!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FormGen=t():e.FormGen=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r,i,a,o=n(3),u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){a=!1}function l(e){if(e){if(e!==r){if(e.length!==u.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==u&&(r=u,c())}function s(){return a||(a=function(){r||l(u);for(var e,t=r.split(""),n=[],i=o.nextValue();t.length>0;)i=o.nextValue(),e=Math.floor(i*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||u},characters:function(e){return l(e),r},seed:function(e){o.seed(e),i!==e&&(c(),i=e)},lookup:function(e){return s()[e]},shuffled:s}},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){"use strict";var r=n(0),i=n(4),a=n(8),o=n(9)||0;function u(){return i(o)}e.exports=u,e.exports.generate=u,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return o=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=a},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r,i,a=n(5);n(0);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===i?r++:(r=0,i=n),t+=a(7),t+=a(e),r>0&&(t+=a(r)),t+=a(n)}},function(e,t,n){"use strict";var r=n(0),i=n(6),a=n(7);e.exports=function(e){for(var t,n=0,o="";!t;)o+=a(i,r.get(),1),t=e<Math.pow(16,n+1),n++;return o}},function(e,t,n){"use strict";var r,i="object"==typeof window&&(window.crypto||window.msCrypto);r=i&&i.getRandomValues?function(e){return i.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*n/t.length),a="";;)for(var o=e(i),u=i;u--;)if((a+=t[o[u]&r]||"").length===+n)return a}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},function(e,t,n){"use strict";e.exports=0},function(e,t,n){"use strict";n.r(t),n.d(t,"Render",(function(){return I}));var r=n(1),i=n.n(r);function a(){return i.a.generate()}function o(e,t){if("string"==typeof e){var n=document.createElement(e);return"object"==typeof t&&Object.keys(t).map((function(e){n.setAttribute(e,t[e])})),n}}function u(e,t){[].forEach.call(e,(function(e){t(e)}))}function c(e){return document.getElementById(e)||null}var l,s=function(){function e(e){this.uuid=a(),this.metaData=e,this.locale=e.localeKey}return e.prototype.checkValue=function(){},e.prototype.getName=function(){return this.metaData.name},e.prototype.getValue=function(){},e.prototype.setValue=function(e){},e.prototype.setStyle=function(){},e.prototype.setLocaleText=function(e){return e[this.locale]||!1},e.prototype.setWrapper=function(){return o("div",{class:"form-group",id:a()})},e.prototype.handleAction=function(){},e.prototype.removeAction=function(){},e}(),p=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.getHtml=function(){return this.metaData.labelText&&this.setLocaleText(this.metaData.labelText)?'<label\n            for="'+this.metaData.name+'"\n            id="'+this.uuid+'" \n            class="form-genki-label">'+(this.setLocaleText(this.metaData.labelText)||"")+(this.metaData.labelHtml||"")+"</label> ":""},t}(s),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t){var n=e.call(this,t)||this;return n.type=n.metaData.type.toLowerCase(),n}return h(t,e),t.prototype.getHtml=function(){var e=new d(this.metaData),t=this.setWrapper();return t.innerHTML=e.getHtml()+" "+this.handleTpl(),t.outerHTML},t.prototype.getValue=function(){return"CHECKBOX"===this.type&&"checked",document.getElementById(this.uuid).value},t.prototype.setValue=function(e){document.getElementById(this.uuid).value=e},t.prototype.setStyle=function(){return(this.metaData.styleClass||"form-control")+" col-"+(this.metaData.columnSize||12)},t.prototype.handleTpl=function(){var e=this.metaData.defaultValue;return'<input type="'+this.type+'" \n        id="'+this.uuid+'"\n        name="'+this.metaData.name+'"\n        value="'+(e||"")+'"\n        class="form-genki-input '+this.setStyle()+'"\n        '+(this.metaData.required?"required":"")+'\n        placeholder="'+this.setLocaleText(this.metaData.hintText)+'"\n        '+("checkbox"===this.type&&e?"checked":"")+">"},t.prototype.checkValue=function(){this.metaData&&!this.getValue()&&document.getElementById(this.uuid).setAttribute("class","was-validated")},t}(s),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultValue=n.metaData.defaultValue,n.menuId="select-menu-"+n.uuid,n.arrowId="select-menu-arrow-"+n.uuid,n}return m(t,e),t.prototype.handleItemTpl=function(e){return'<li value="'+e.value+'" '+(e.value===this.defaultValue?"selected":"")+">"+e.text+"</li>"},t.prototype.handleTpl=function(){var e=this;if(!this.metaData.items.length)throw new Error("please check select element items");var t=this.metaData.items.reduce((function(t,n){return t+=e.handleItemTpl(n)}),"");return'<div class="form-genki-select-wrapper"><div id="'+this.uuid+'" name="'+this.metaData.name+'" class="form-genki-select '+this.setStyle()+'"></div>\n        <div class="form-genki-select-items" id='+this.menuId+' style="display: none">'+t+"</div>"+this.getSelectIcon()+"</div>"},t.prototype.handleAction=function(){var e=this,t=this.getSelectItems(),n=t.$select,r=t.$selectItems,i=t.$arrow;n.addEventListener("click",(function(t){console.log("select input click"),e.handleSelectClick(r,i)})),r.addEventListener("click",(function(t){e.handleSelectItemClick(t,n,r)})),document.addEventListener("click",(function(t){e.handleDocumentClick(t,n,r,i)}))},t.prototype.removeAction=function(){var e=this,t=this.getSelectItems(),n=t.$select,r=t.$selectItems,i=t.$arrow;n.removeEventListener("click",(function(t){e.handleSelectClick(r,i)})),r.removeEventListener("click",(function(t){e.handleSelectItemClick(t,n,r)})),document.removeEventListener("click",(function(t){e.handleDocumentClick(t,n,r,i)}))},t.prototype.getSelectItems=function(){return{$select:document.getElementById(this.uuid),$selectItems:document.getElementById(this.menuId),$arrow:document.getElementById(this.arrowId)}},t.prototype.handleSelectClick=function(e,t){this.toggleItems(e),this.toggleIcon(t)},t.prototype.handleSelectItemClick=function(e,t,n){var r=e.target;if("LI"===r.tagName){var i=r.innerHTML;t.innerHTML=i}this.toggleItems(n)},t.prototype.handleDocumentClick=function(e,t,n,r){t.contains(e.target)||(n.style.display="none",r.style.transform="unset")},t.prototype.toggleItems=function(e){e.style.display="block"===e.style.display?"none":"block"},t.prototype.toggleIcon=function(e){var t=e.style.transform;e.style.transform=t&&"unset"!==t?"unset":"rotate(180deg)"},t.prototype.getSelectIcon=function(){return'<span class="form-genki-arrow" id='+this.arrowId+'><svg viewBox="64 64 896 896" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"/></svg></span>'},t.prototype.getValue=function(){var e=document.getElementById(this.uuid),t="";return[].forEach.call(e.children,(function(e){e.selected&&(t=e.value)})),t},t}(f),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},T=function(e){function t(t){var n=e.call(this,t)||this;return n.radioId=a(),n.defaultValue=n.metaData.defaultValue,n}return y(t,e),t.prototype.handleItemTpl=function(e){var t=a();return new d(v(v({},this.metaData),{labelText:e.text,name:t})).getHtml()+' <input\n            type="radio" value="'+e.value+'" name="'+this.metaData.name+'"\n            id="'+t+'" class="form-genki-input radio-item-'+this.radioId+" "+this.setStyle()+'"\n            '+(e.value===this.defaultValue?"checked":"")+">"},t.prototype.handleTpl=function(){var e=this;return this.metaData.items.reduce((function(t,n,r){return t+=e.handleItemTpl(n)}),"")},t.prototype.getValue=function(){var e="";return u(this.findItemCollection(),(function(t){t.checked&&(e=t.value)})),e},t.prototype.setValue=function(e){u(this.findItemCollection(),(function(t){t.checked=t.value==e}))},t.prototype.findItemCollection=function(){return document.getElementsByClassName("radio-item-"+this.radioId)},t}(f);function b(e){return e||(window.localStorage.getItem("LANG")||"zh-CN")}var D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},M=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],x=["一","二","三","四","五","六","日"],k=function(e){function t(t){var n=e.call(this,t)||this;return n.prefixClazzName="form-genki-calendar-wrapper",console.log("----",n.metaData.defaultValue),n.currentTime=n.metaData.defaultValue?new Date(n.metaData.defaultValue):new Date,n.selectTime=n.formatDate(n.currentTime),n}return D(t,e),t.prototype.getMonthDays=function(e,t){return new Date(t,e+1,0).getDate()},t.prototype.getCurrentDays=function(){return new Date},t.prototype.getMonthInfo=function(e,t){var n="prev"===t?-1:1,r=new Date(e);return r.getMonth()?r.setMonth(r.getMonth()+n):(r.setFullYear(r.getFullYear()+n),r.setMonth(12)),r},t.prototype.generateWeekList=function(){var e=this;return'<thead>\n            <tr class="'+this.prefixClazzName+'-table-tr">\n                '+x.map((function(t){return'<th><div class="'+e.prefixClazzName+'-table-th-cell">'+t+"</div></th>"})).join("")+"\n            </tr>\n        </thead>"},t.prototype.generateCalendarHeader=function(){return'<div class="'+this.prefixClazzName+'-table-header">\n            <div class="icon year-prev" id="'+this.uuid+'-year-prev"></div>\n            <div class="icon month-prev" id="'+this.uuid+'-month-prev"></div>\n            <span>\n                <a class="year-select" id="'+this.uuid+'-year-quick-select">'+this.currentTime.getFullYear()+'年</a>\n                <a class="month-select" id="'+this.uuid+'-month-quick-select">'+(this.currentTime.getMonth()+1)+'月</a>\n            </span>\n            <div class="icon year-next" id="'+this.uuid+'-year-next"></div>\n            <div class="icon month-next" id="'+this.uuid+'-month-next"></div>\n        </div>'},t.prototype.generateQuickCalendarHeader=function(e){return'<div class="'+this.prefixClazzName+'-table-header">\n            <div class="icon year-prev" id="'+this.uuid+'-quick-pick-year-prev"></div>\n            <span id="'+this.uuid+'-quick-range-slot">\n                '+e+'\n            </span>\n            <div class="icon year-next" id="'+this.uuid+'-quick-pick-year-next"></div>\n        </div>'},t.prototype.generateQuickCalendarMonthHeader=function(e){return'<div class="'+this.prefixClazzName+'-table-header">\n            <div class="icon year-prev" id="'+this.uuid+'-quick-pick-month-prev"></div>\n            <span id="'+this.uuid+'-quick-range-slot">\n                '+e+'\n            </span>\n            <div class="icon year-next" id="'+this.uuid+'-quick-pick-month-next"></div>\n        </div>'},t.prototype.generateBottomActionPanel=function(){return'<div class="'+this.prefixClazzName+'-table-footer"><a id="'+this.uuid+'-reset-today">今天</a></div>'},t.prototype.generateCalendarInput=function(){return'<div class="'+this.prefixClazzName+'-input" id="'+this.uuid+'-input">\n            <span class="'+this.prefixClazzName+'-value" id="'+this.uuid+'-display-input">'+this.selectTime+'</span>\n            <span class="'+this.prefixClazzName+'-icon"><svg viewBox="64 64 896 896" data-icon="calendar" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"/></svg></span>\n        </div>'},t.prototype.getDisplayDays=function(){var e=this.getMonthDays(this.currentTime.getMonth(),this.currentTime.getFullYear()),t=new Date(this.currentTime.getFullYear(),this.currentTime.getMonth(),1).getDay()-1,n=this.getMonthDays(this.currentTime.getMonth()-1,this.currentTime.getFullYear()),r=this.getMonthInfo(this.currentTime,"prev"),i=this.getMonthDays(this.currentTime.getMonth()+1,this.currentTime.getFullYear()),a=42-t+e,o=this.getMonthInfo(this.currentTime,"next");return w(w(w([],this.getMonthSurplusDays(n,t,"prev",r.getFullYear(),r.getMonth()+1),!0),this.generateArrayOrder(e,!0,this.currentTime.getFullYear(),this.currentTime.getMonth()+1),!0),this.getMonthSurplusDays(i,a,"next",o.getFullYear(),o.getMonth()+1),!0)},t.prototype.getWeekNumberOfYears=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var n=new Date(e.getFullYear(),0,1);return Math.ceil(((t.getTime()-n.getTime())/864e5+1)/7)},t.prototype.generateArrayOrder=function(e,t,n,r){return Array.from({length:e},(function(e,i){return{value:i+1,isCurrentMonth:t,date:new Date(n+"-"+r+"-"+(i+1))}}))},t.prototype.getMonthSurplusDays=function(e,t,n,r,i){var a=this.generateArrayOrder(e,!1,r,i);return"prev"===n?a.slice(e-t):a.slice(0,t)},t.prototype.getNextMonthDate=function(e){var t=e.getDate(),n=e.getFullYear(),r=e.getMonth()+1+1;13===r&&(n+=1,r=1);var i=t,a=new Date(n,r,0).getDate();return i>a&&(i=a),n+"-"+r+"-"+i},t.prototype.getNextYearDate=function(e){return new Date(e.getFullYear()+1,e.getMonth(),e.getDate())},t.prototype.getPrevYearDate=function(e){return new Date(e.getFullYear()-1,e.getMonth(),e.getDate())},t.prototype.getPrevMonthDate=function(e){var t=e.getDate(),n=e.getFullYear(),r=e.getMonth();0===r&&(n-=1,r=12);var i=t,a=new Date(n,r,0);return t>a.getDate()&&(i=a.getDate()),n+"-"+r+"-"+i},t.prototype.getMonthTable=function(e){for(var t=this.getDisplayDays(),n="",r=0;r<6;r++){for(var i="",a=0;a<7;a++){var o=t[7*r+a];i+='<td class="'+this.prefixClazzName+'-table-td">\n                    <div\n                    class="'+this.prefixClazzName+"-cell"+(o.isCurrentMonth?" current-days":"")+(e===this.formatDate(o.date)?" selected":"")+'"\n                    data-time="'+o.date+'"\n                    >\n                        '+o.value+"\n                    </div>\n                </td>"}n+='<tr class="'+this.prefixClazzName+'-table-tr">'+i+"</tr>"}return'<div class="table-body" id="'+this.uuid+'-table">\n            <table class="'+this.prefixClazzName+'-table">'+this.generateWeekList()+n+"</table>\n        </div>"},t.prototype.getPopInput=function(){return'<div class="'+this.prefixClazzName+'-pop-input" id="'+this.uuid+'-pop-input">\n            <input className="'+this.prefixClazzName+'-input" id="'+this.uuid+'-select-input" />\n        </div>'},t.prototype.getPopOverTableContent=function(e){return'\n        <div class="form-genki-calendar-panel-wrapper" id="'+this.uuid+'-panel-container">\n            '+this.getPopInput()+'\n            <div class="form-genki-calendar-panel" id="'+this.uuid+'-panel">\n                <div id="'+this.uuid+'-table-head-slot">\n                    '+this.generateCalendarHeader()+'\n                </div>\n                <div id="'+this.uuid+'-table-slot">\n                    '+this.getMonthTable(e)+"\n                </div>\n                "+this.generateBottomActionPanel()+"\n            </div>\n        </div>\n        "},t.prototype.handleTpl=function(){return'<div class="'+this.prefixClazzName+'">\n            <div id="'+this.uuid+'" name="'+this.metaData.name+'" class="form-genki-calender '+this.setStyle()+'">\n                '+this.generateCalendarInput()+"\n            </div>\n        </div>"},t.prototype.generateQuickYearSelectTable=function(e){var t=this.currentTime.getFullYear(),n=t%10,r=0,i=9;e?(r=e[0],i=e[1]):(r=t-n,i=t+(9-n));for(var a=e||[r,i],o=[],u=r;u<=i;u++)o.push(u);var c=w(w([r-1],o,!0),[i+1],!1),l="";for(u=0;u<4;u++){for(var s="",p=0;p<3;p++){s+='<td class="">'+c[3*u+p]+"</td>"}l+='<tr class="">'+s+"</tr>"}return{dom:"<table>"+l+"</table>",range:a}},t.prototype.generateQuickMonthSelectTable=function(){for(var e="",t=0;t<4;t++){for(var n="",r=0;r<3;r++){n+='<td class="">'+M[3*t+r]+"</td>"}e+="<tr>"+n+"</tr>"}return"<table>"+e+"</table>"},t.prototype.handleAction=function(){var e=this,t=c(this.uuid);t.addEventListener("click",(function(n){var r=c(e.uuid+"-panel-container");if(n.target.id.includes("quick-select"))if((f=n.target.id).includes("year")){var i=c(e.uuid+"-table-slot"),a=c(e.uuid+"-table-head-slot"),o=e.generateQuickYearSelectTable(),u=o.range,l=o.dom;i.innerHTML=l,a.innerHTML=e.generateQuickCalendarHeader(u.join("-")),e.yearRange=u}else{i=c(e.uuid+"-table-slot"),a=c(e.uuid+"-table-head-slot");i.innerHTML=e.generateQuickMonthSelectTable(),a.innerHTML=e.generateQuickCalendarMonthHeader(""+e.currentTime.getFullYear())}else if(n.target.id.includes("quick-pick")){if((f=n.target.id).includes("year"))if(f.includes("next")){var s=c(e.uuid+"-quick-range-slot"),p=(i=c(e.uuid+"-table-slot"),[e.yearRange[0]+10,e.yearRange[1]+10]);s.innerHTML=p.join("-"),i.innerHTML=e.generateQuickYearSelectTable(p).dom,e.yearRange=p}else{s=c(e.uuid+"-quick-range-slot"),i=c(e.uuid+"-table-slot"),p=[e.yearRange[0]-10,e.yearRange[1]-10];s.innerHTML=p.join("-"),i.innerHTML=e.generateQuickYearSelectTable(p).dom,e.yearRange=p}else if(f.includes("next")){s=c(e.uuid+"-quick-range-slot");var d=e.currentTime.getFullYear()+1;s.innerHTML=""+d,e.currentTime=new Date(d,e.currentTime.getMonth()+1,e.currentTime.getDate())}else{s=c(e.uuid+"-quick-range-slot");var h=e.currentTime.getFullYear()-1;s.innerHTML=""+h,e.currentTime=new Date(h,e.currentTime.getMonth()+1,e.currentTime.getDate())}}else{if(n.target.id.includes("reset"))e.currentTime=new Date,e.selectTime=e.formatDate(e.currentTime),c(e.uuid+"-display-input").innerHTML=e.selectTime;if(n.target.id.includes("year")){var f=n.target.id,m=(i=c(e.uuid+"-table-slot"),c(e.uuid+"-select-input"));a=c(e.uuid+"-table-head-slot");if(f.includes("prev")){var g=e.getPrevYearDate(new Date(e.selectTime));e.currentTime=new Date(g),e.selectTime=e.formatDate(e.currentTime),i.innerHTML=e.getMonthTable(e.selectTime),a.innerHTML=e.generateCalendarHeader(),m.value=e.selectTime}else{var y=e.getNextYearDate(new Date(e.selectTime));e.currentTime=new Date(y),e.selectTime=e.formatDate(e.currentTime),i.innerHTML=e.getMonthTable(e.selectTime),a.innerHTML=e.generateCalendarHeader(),m.value=e.selectTime}}else if(n.target.id.includes("month")){f=n.target.id,i=c(e.uuid+"-table-slot"),a=c(e.uuid+"-table-head-slot"),m=c(e.uuid+"-select-input");if(f.includes("prev")){g=e.getPrevMonthDate(new Date(e.selectTime));e.currentTime=new Date(g),e.selectTime=e.formatDate(e.currentTime),i.innerHTML=e.getMonthTable(e.selectTime),a.innerHTML=e.generateCalendarHeader(),m.value=e.selectTime}else{y=e.getNextMonthDate(new Date(e.selectTime));console.log(y),e.currentTime=new Date(y),e.selectTime=e.formatDate(e.currentTime),i.innerHTML=e.getMonthTable(e.selectTime),a.innerHTML=e.generateCalendarHeader(),m.value=e.selectTime}}else{if("TD"===n.target.parentElement.nodeName){var v=n.target.dataset.time,T=e.formatDate(v);(m=c(e.uuid+"-select-input")).value=T,r.style.display="none",e.selectTime=T}if(r)t.innerHTML=e.generateCalendarInput(),c(e.uuid+"-display-input").innerHTML=e.selectTime;else t.innerHTML=t.innerHTML+" "+e.getPopOverTableContent(e.selectTime),(m=c(e.uuid+"-select-input")).value=e.selectTime}}}))},t.prototype.formatDate=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.prototype.getValue=function(){return""},t}(f),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I=function(){function e(e){!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=localStorage.setItem;localStorage.setItem=function(t,r){n.apply(this,e);var i=new Event("storageChanged");document.dispatchEvent(i)}}(),this.data=e,this.locale=b(),this.$container=null,this.resultValue={},this.formId=a(),this.containerId=e.containerId||"form-container";var t,n=this;t=function(){n.locale=b(),n.refresh()},document.addEventListener("storageChanged",(function(){t()})),this.$formWrapper=this.getFormWrapper()}return e.prototype.render=function(){if(this.$container=document.getElementById(this.containerId),!this.$container)throw new Error("please check form container is provided");this.mount(),this.attachEvent()},e.prototype.mount=function(){this.$formWrapper.innerHTML=this.getRawHtml(this.data),this.$container.innerHTML=this.$formWrapper.outerHTML},e.prototype.attachEvent=function(){[].forEach.call(this.itemInstance,(function(e){e.handleAction()}))},e.prototype.detachEvent=function(){[].forEach.call(this.itemInstance,(function(e){e.removeAction()}))},e.prototype.getFormData=function(){var e=this;return[].forEach.call(this.itemInstance,(function(t){e.resultValue[t.getName()]=t.getValue()})),this.resultValue},e.prototype.setFormValue=function(e){if("object"!=typeof e)throw new Error("set form data must be object");this.itemInstance.forEach((function(t,n){Object.keys(e).map((function(n){n===t.getName()&&t.setValue(e[n])}))}))},e.prototype.validateForm=function(){document.getElementById(this.formId).classList.add("was-validated")},e.prototype.destroy=function(){this.detachEvent(),this.$container.innerHTML=""},e.prototype.refresh=function(){this.$container&&(this.destroy(),this.mount())},e.prototype.getFormWrapper=function(){return o("form",{class:"form-genki-block",id:this.formId})},e.prototype.getRawHtml=function(e){var t=this,n=null,r="";return this.itemInstance=[],e.properties.forEach((function(e){var i=C(C({},e),{localeKey:t.locale});switch(e.type){case"TEXT":n=new f(i);break;case"SELECT":n=new g(i);break;case"RADIO":n=new T(i);break;case"DATE":n=new k(i);break;default:n=new f(i)}r+=n.getHtml(),t.itemInstance.push(n)})),r},e}()}])}));
//# sourceMappingURL=FormGen.js.map